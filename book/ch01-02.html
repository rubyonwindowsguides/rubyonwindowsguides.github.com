<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Improving Command Prompt</title>
   <meta name="author" content="Boško Ivanišević" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" href="/css/menu.css" type="text/css" media="screen, projection" />

   <!-- Update your html tag to include the itemscope and itemtype attributes -->
   <html itemscope itemtype="http://schema.org/Book">

   <!-- Add the following three tags inside head -->
   <meta itemprop="name" content="Ruby On Windows Guides">

   <!-- Place this render call where appropriate -->
   <script type="text/javascript">
      (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
   </script>

   <script type="text/javascript">

     var _gaq = _gaq || [];
     _gaq.push(['_setAccount', 'UA-26061460-1']);
     _gaq.push(['_trackPageview']);

     (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
     })();

   </script>
</head>
<body>
  <header>
  </header>
  <main class="content">
    <section class="container">
      <nav class="navbar-fixed-top">
        <div class="container">
          <a href="/">Book</a>
          <a href="/about.html">About</a>
          <span style="float: right;">
            <!-- Place this tag where you want the +1 button to render -->
            <g:plusone annotation="inline"></g:plusone>
          </span>
        </div>
      </nav>
      <div id="header">
        <table>
          <tr>
            <td>
              <h1>Ruby on Windows Guides</h1>
              <h4 class="title">by Boško Ivanišević</h4>
            </td>
          </tr>
        </table>
      </div>
      <div id="main" class="row-fluid">
        <article class="post">
      <section style="font-weight:bold; margin-bottom: 2em;">
        
        <a rel="prev" class="a-hover"href="/book/ch01-01.html"><i class="icon-double-angle-left"></i> Windows Command Line</a>
        
        
        <a rel="next" style="float:right" class="a-hover"href="/book/ch01-03.html">A Word About Git Ides And Editors <i class=" icon-double-angle-right"></i></a>
        
            <hr>
      </section>

          <section>
            <h2>Improving Command Prompt</h2>

<p>In the previous chapter we&#39;ve learned how to enable Unicode characters in the Command Prompt and how to create and change environment variables with the emphasis on the system path. Before we explore all “secrets” of installing Ruby on Windows we will make few more improvements in the Command Prompt.</p>

<p>Every new Command Prompt on Windows is opened as new window. It is quite impractical if you need to open several Command Prompts. Linux and OSX users have benefit because in one terminal window they can open shells as multiple tabs which makes work in the shell much more comfortable.</p>

<p>There are few applications that can help us working same way on Windows. We will skip commercial ones and focus only on the Open Source solution. Throughout this book we will use <a href="https://code.google.com/p/conemu-maximus5/">conemu-maximus5</a>.</p>

<p>ConEmu has a lot of options which help you customize it to your needs. Besides background and foreground colors, fonts and other visual customizations you can define hot keys for opening new tabs, switch between them, activating specific tab and many more which we will not discuss here. But one option deserves more attention. Tasks section under Startup group in Settings dialog is used to define which shell will be opened in tabs. ConEmu comes with number of predefined values, but you can define new to use Cygwin or MSYS bash shells. This will come in handy later when we install Git and DevKit. There is only one more improvement remaining.</p>

<p>Command Prompt on Windows is capable of displaying colored text, but Microsoft&#39;s implementation differs from standard used on Linux and Mac OS so ANSI color codes, which are used in all Ruby extensions, are not interpreted correctly. For a long time win32console extension was used on Windows platforms for converting ANSI color codes in the form Command Prompt understands. Although it did great job at the time and most of extensions were able to use win32console, it had one drawback – slowness.</p>

<p>Instead of win32console we will use <a href="http://adoxa.110mb.com/ansicon/index.html">ANSICON</a> (<a href="http://github.com/adoxa/ansicon">GitHub Project</a>), application that hooks into <code>cmd.exe</code> process on Windows, parses ANSI color codes and converts them so Command Prompt can display colored output. ANSICON comes as Zip archive. In order to install it you have to unpack it to some folder on your path. There are few ways ANSICON can be used. If ansicon.exe is just executed, new command processor (typically <code>cmd.exe</code>) is started. With option <code>-p</code> ANSICON hooks in the current Command Prompt and recognition of ANSI escape sequences is enabled. If you want ANSICON to be enabled whenever you start new Command Prompt you should invoke it with:</p>

<div class="highlight"><pre><code class="bat">ansicon -i or
ansicon -I</code></pre></div>

<p>The first command adds ANSICON to the <code>AutoRun</code> registry value for current user and the second for local machine.</p>

            <hr>
          </section>

      <section style="font-weight:bold; margin-bottom: 2em;">
        
        <a rel="prev" class="a-hover"href="/book/ch01-01.html"><i class="icon-double-angle-left"></i> Windows Command Line</a>
        
        
        <a rel="next" style="float:right" class="a-hover"href="/book/ch01-03.html">A Word About Git Ides And Editors <i class=" icon-double-angle-right"></i></a>
        
      </section>
        </article>
      </div>
    </section>
  </main>
</body>
</html>
